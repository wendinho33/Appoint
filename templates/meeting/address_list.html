{% extends 'base.html' %}
{% block title %}
Address List
{% endblock %}
{% block main %}
{% if request.user.is_authenticated %}
<table class="table table-hover table-dark">
  <thead>
    <tr>
      <th scope="col">Address</th>
      <th scope="col">Region</th>
      <th scope="col">Update</th>
    </tr>
  </thead>
  <tbody>
  {% for foo in addresses %}

    <tr>
      <td>{{ foo.address|upper }}</td>
      <td>{{ foo.region }}</td>
      <td><button class="address_update btn btn-outline-light" data-id="{% url 'address-update' foo.id %}">Update</button></td>

  {% endfor %}
   </tr>
  </tbody>
</table>
{% endif %}
    <script>
         $(document).ready(function() {

             $(".address_update").each(function () {
                 $(this).modalForm({formURL: $(this).data('id')});
             });
         })
    </script>
{% endblock %}